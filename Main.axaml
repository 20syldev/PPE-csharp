<Window xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    WindowStartupLocation="CenterScreen"
    x:Class="PPE.Main"
    Background="#1E1E1E"
    Title="Gestion Clients"
    Width="900" Height="600"
    MinWidth="600" MinHeight="400"
>
    <Window.Styles>
        <!-- Style pour les TextBox -->
        <Style Selector="TextBox">
            <Setter Property="BorderBrush" Value="#555555"/>
            <Setter Property="Background" Value="#3C3C3C"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- Style pour les ComboBox -->
        <Style Selector="ComboBox">
            <Setter Property="BorderBrush" Value="#555555"/>
            <Setter Property="Background" Value="#3C3C3C"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- Style pour les boutons primaires -->
        <Style Selector="Button.primary">
            <Setter Property="Background" Value="#0D6EFD"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="14,8"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- Style pour le bouton supprimer -->
        <Style Selector="Button.danger">
            <Setter Property="Background" Value="#5A2D2D"/>
            <Setter Property="Foreground" Value="#F87171"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="14,8"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- Style pour le DataGrid -->
        <Style Selector="DataGrid">
            <Setter Property="RowBackground" Value="#252526"/>
            <Setter Property="Background" Value="#252526"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="RowHeight" Value="44"/>
        </Style>

        <!-- Retirer l'outline de focus des cellules -->
        <Style Selector="DataGridCell:current /template/ Grid#FocusVisual">
            <Setter Property="IsVisible" Value="False"/>
        </Style>
    </Window.Styles>

    <DockPanel>
        <!-- Toolbar -->
        <Border DockPanel.Dock="Top"
            BorderThickness="0,0,0,1"
            BorderBrush="#3C3C3C"
            Background="#252526"
            Padding="16,12"
        >
            <Grid ColumnDefinitions="Auto,*,Auto">
                <!-- Gauche: titre -->
                <StackPanel Grid.Column="0"
                    VerticalAlignment="Center"
                    Orientation="Horizontal"
                    Spacing="8"
                >
                    <TextBlock Text="Clients"
                        Foreground="#E0E0E0"
                        FontWeight="SemiBold"
                        FontSize="16"
                    />
                    <TextBlock x:Name="_count"
                        VerticalAlignment="Center"
                        Foreground="#858585"
                        FontSize="13"
                    />
                </StackPanel>

                <!-- Centre: recherche -->
                <TextBox x:Name="_search"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"
                    Watermark="Rechercher..."
                    Margin="50,0,8,0"
                    Grid.Column="1"
                    MinWidth="120"
                />

                <!-- Droite: actions -->
                <StackPanel Grid.Column="2"
                    VerticalAlignment="Center"
                    Orientation="Horizontal"
                    Spacing="8"
                >
                    <ComboBox x:Name="_filter"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        SelectedIndex="0"
                        MinWidth="120"
                    >
                        <ComboBoxItem>Tous</ComboBoxItem>
                        <ComboBoxItem>Nom</ComboBoxItem>
                        <ComboBoxItem>Ville</ComboBoxItem>
                        <ComboBoxItem>Code postal</ComboBoxItem>
                    </ComboBox>

                    <Button x:Name="_btnDel"
                        VerticalAlignment="Center"
                        Content="Supprimer"
                        IsVisible="False"
                        Classes="danger"
                    />

                    <Button x:Name="_btnAdd"
                        VerticalAlignment="Center"
                        Content="+ Ajouter"
                        Classes="primary"
                    />
                </StackPanel>
            </Grid>
        </Border>

        <!-- Contenu principal -->
        <Grid>
            <!-- Grille des clients -->
            <Border x:Name="_gridBorder"
                BorderThickness="1,1,1,0"
                CornerRadius="8,8,0,0"
                Margin="16,12,16,16"
                ClipToBounds="True"
                Background="#252526"
                BorderBrush="#3C3C3C"
            >

                <DataGrid x:Name="_grid"
                    AutoGenerateColumns="False"
                    CanUserResizeColumns="True"
                    CanUserSortColumns="True"
                    IsReadOnly="True"
                    GridLinesVisibility="Horizontal"
                    SelectionMode="Single"
                >
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Nom" Binding="{Binding Nom}" Width="*"/>
                        <DataGridTextColumn Header="Adresse" Binding="{Binding Adresse}" Width="2*"/>
                        <DataGridTextColumn Header="Ville" Binding="{Binding Ville}" Width="*"/>
                        <DataGridTextColumn Header="Code postal" Binding="{Binding Code}" Width="150"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- État vide (aucun client) -->
            <StackPanel x:Name="_emptyState"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                IsVisible="False"
                Spacing="16"
            >
                <TextBlock Text="Aucun client"
                    HorizontalAlignment="Center"
                    Foreground="#858585"
                    FontWeight="SemiBold"
                    FontSize="18"
                />
                <TextBlock Text="Commencez par ajouter votre premier client"
                    HorizontalAlignment="Center"
                    Foreground="#666666"
                    FontSize="13"
                />
                <Button x:Name="_btnAddEmpty"
                    Content="+ Ajouter un client"
                    HorizontalAlignment="Center"
                    Classes="primary"
                    Padding="16,10"
                />
            </StackPanel>

            <!-- État aucun résultat (recherche) -->
            <StackPanel x:Name="_noResults"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                IsVisible="False"
                Spacing="8"
            >
                <TextBlock Text="Aucun résultat"
                    HorizontalAlignment="Center"
                    Foreground="#858585"
                    FontWeight="SemiBold"
                    FontSize="18"
                />
                <TextBlock Text="Essayez avec d'autres termes de recherche"
                    HorizontalAlignment="Center"
                    Foreground="#666666"
                    FontSize="13"
                />
            </StackPanel>
        </Grid>
    </DockPanel>
</Window>